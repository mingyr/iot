<xml version="Mixly 2.0 rc3" board="Python ESP32@ESP32 Generic(4MB)"><block type="factory_import" id="{eEm_2gJY~jU0:X`ED($" x="-952" y="-1203"><field name="module">upip</field><next><block type="inout_digital_init" id="lvu+LyJspNrV,~~?1FKD"><field name="PIN_OBJ">pin#</field><field name="MODE">machine.Pin.IN</field><value name="PIN"><shadow type="pins_digital_pin" id="zxrwMO)L277?N6z3[|2O"><field name="PIN">33</field></shadow></value><next><block type="variables_set" id="cW`5u0tQjz`;X54;,hQ}"><field name="VAR">SSID</field><value name="VALUE"><block type="text" id="9*2HmNtQeYRr[1fLM=e}"><field name="TEXT">thingsboard</field></block></value><next><block type="variables_set" id="A/A6`w1^[=TpmL!)ob*K"><field name="VAR">PASSWORD</field><value name="VALUE"><block type="text" id="iIT*9!)`4yl5g6boU|eH"><field name="TEXT">thingsboard</field></block></value><next><block type="variables_set" id="Ci+$g;)|vLbZH4lEP;/8"><field name="VAR">MQTT_SERVER</field><value name="VALUE"><block type="text" id="ZWCEwWuCgL9alhPb1xAM"><field name="TEXT">192.168.1.102</field></block></value><next><block type="variables_set" id="j(UYE),KjEMVQZ7`CVk5"><field name="VAR">MQTT_PORT</field><value name="VALUE"><block type="math_number" id="];4u,v[UeHQ]wXtE#o9)"><field name="NUM">1883</field></block></value><next><block type="variables_set" id="`+UiMgBN:Zn|.=g::Q,T"><field name="VAR">MQTT_TOPIC_TELEMETRY</field><value name="VALUE"><block type="text" id="w:BhQn.L`I,uHqxN7a-4"><field name="TEXT">v1/devices/me/telemetry</field></block></value><next><block type="variables_set" id="Bl-XC@0iFv=!AfJpZ|HZ"><field name="VAR">MQTT_TOPIC_ATTRIBUTES</field><value name="VALUE"><block type="text" id="^Di^$WlaOd-#Y,!8)j1E"><field name="TEXT">v1/devices/me/attributes</field></block></value><next><block type="variables_set" id="Y~D*mps_dY6jj#9UW-4G"><field name="VAR">MQTT_USER</field><value name="VALUE"><block type="text_encode" id="k-ec*D`i[SZw$`Qr]Wau"><field name="CODE">utf-8</field><field name="DIR">encode</field><value name="VAR"><shadow xmlns="http://www.w3.org/1999/xhtml" type="text"><field name="TEXT">Mixly</field></shadow><block type="text" id=")61-c|R41a6CMbA1QMA0"><field name="TEXT">eBy8JBBOgoM25oLDZ2SK</field></block></value></block></value><next><block type="variables_set" id="7}_tWm.7~SJ]A?bOOwL-"><field name="VAR">MQTT_PSWD</field><value name="VALUE"><block type="text_encode" id="Hf_GWDuUSNOv?EClca~X"><field name="CODE">utf-8</field><field name="DIR">encode</field><value name="VAR"><shadow type="text" id="gvoQnM8VpNqv+Bh1h$$j"><field name="TEXT"></field></shadow></value></block></value><next><block type="variables_set" id="9~2/k4TKoY?nAgLeG;kV"><field name="VAR">ENTITY_NAME</field><value name="VALUE"><block type="text" id="NpWuWr|IMk`m@_lZ!A.J"><field name="TEXT">DHT-1</field></block></value><next><block type="variables_set" id="jIx5YQLVSw;u:4hM`=;|"><field name="VAR">ENTITY_LON</field><value name="VALUE"><block type="math_number" id="M2p0N7/mK4?Hnr,7`urV"><field name="NUM">116.370846</field></block></value><next><block type="variables_set" id="xlMcVlux66+;~c|5Mv4M"><field name="VAR">ENTITY_LAT</field><value name="VALUE"><block type="math_number" id="L,7=rE1##+,E*,:5KIiD"><field name="NUM">39.940146</field></block></value><next><block type="network_init" id="HT;Tw+_QLAzzftiXLCLI"><field name="mode">STA</field><value name="VAR"><shadow type="variables_get" id="Ya]/Pf@np#0kqwTXT76J"><field name="VAR">wlan</field></shadow></value><next><block type="network_open" id="Fay:Zw2pfI#y4QtciD6S"><field name="op">True</field><value name="VAR"><shadow type="variables_get" id="CX^Po.[{;2o,Fuz[+N8I"><field name="VAR">wlan</field></shadow></value><next><block type="network_connect" id="iswIdcp?y#A^aPy7oZ?/"><value name="VAR"><shadow type="variables_get" id="^hT{^3rzM6?Swm0a3Gi3"><field name="VAR">wlan</field></shadow></value><value name="id"><shadow xmlns="http://www.w3.org/1999/xhtml" type="text"><field name="TEXT">127.16.0.8</field></shadow><block type="variables_get" id="ngR70*HWuKwxYs=|y?WY"><field name="VAR">SSID</field></block></value><value name="password"><shadow xmlns="http://www.w3.org/1999/xhtml" type="text"><field name="TEXT">01234567</field></shadow><block type="variables_get" id="}2{.LD{~}pW3Z0?tM$._"><field name="VAR">PASSWORD</field></block></value><next><block type="do_while" id="@$4bUK@OpfYzZjGNxU{_"><field name="type">true</field><statement name="input_data"><block type="system_print_inline" id="QF^2m[{Eio#pD?Jh;M;z"><value name="VAR"><shadow type="text" id="0Uv??W/74lc7JE)oCSeU"><field name="TEXT">.</field></shadow></value><next><block type="controls_delay" id="uI!U~Aig#XxXpg56[!1$"><field name="Time">ms</field><value name="DELAY_TIME"><shadow type="math_number" id="{eD8x.!OW#/~n:enJPYz"><field name="NUM">1000</field></shadow></value></block></next></block></statement><value name="select_data"><block type="network_wifi_connect" id="]XjFu{ve*m8W(!/ABVOH"><value name="VAR"><shadow type="variables_get" id=":Y|;N3{Xm#bH;CE4#2O="><field name="VAR">wlan</field></shadow></value></block></value><next><block type="system_print" id="9x|i{oopS{k#kRH|h6!T"><value name="VAR"><shadow type="text" id="Okc`2fU+g*Czhe:$^;BN"><field name="TEXT"></field></shadow></value><next><block type="system_print" id="tJ{CAx?]vdO|DzsP8V*+"><value name="VAR"><shadow xmlns="http://www.w3.org/1999/xhtml" type="text"><field name="TEXT">Mixly</field></shadow><block type="network_get_connect" id="d`|$5W_h=kM1h$X$Ua/@"><field name="mode">0</field><value name="VAR"><shadow type="variables_get" id=":@3sHbu0~o#Ju2ZeF$0~"><field name="VAR">wlan</field></shadow></value></block></value><next><block type="system_print" id="yqS+HU@QmjoSG=9#+ZNT"><value name="VAR"><shadow xmlns="http://www.w3.org/1999/xhtml" type="text"><field name="TEXT">Mixly</field></shadow><block type="network_get_connect" id="/9,*Wk(8F|aKF=X/q$j1"><field name="mode">1</field><value name="VAR"><shadow type="variables_get" id="Vj3r5JfBNU!0vNJ@-lZ|"><field name="VAR">wlan</field></shadow></value></block></value><next><block type="system_print" id="5bo7Bt=eWGeO*/kO|I/R"><value name="VAR"><shadow xmlns="http://www.w3.org/1999/xhtml" type="text"><field name="TEXT">Mixly</field></shadow><block type="network_get_connect" id="nrD(|v7;^(oZ2mU.86=r"><field name="mode">2</field><value name="VAR"><shadow type="variables_get" id="Bzdkzv?7_U~TZNA$WYGX"><field name="VAR">wlan</field></shadow></value></block></value><next><block type="controls_try_finally" id=".5_RW,^`dtA.Lp:sOJ+c"><mutation elseif="1"></mutation><statement name="try"><block type="factory_block" id="2q5T#BVf$n3q63rPLmWS"><field name="VALUE">from umqtt.simple import MQTTClient</field></block></statement><statement name="DO1"><block type="factory_function_noreturn" id="XjK6/saR~G.ePcC.7+8L"><mutation items="1"><arg name="x"></arg></mutation><field name="NAME">upip.install</field><value name="ADD0"><block type="text" id=":{?ZGZM9AX.CzYeu2*tV"><field name="TEXT">micropython-umqtt.simple</field></block></value><next><block type="factory_block" id="=bX#[sAih+t$z1P|+Med"><field name="VALUE">from umqtt.simple import MQTTClient</field></block></next></block></statement><next><block type="variables_set" id="B;Q=msf@@msi0a^;Vubh"><field name="VAR">mqttc</field><value name="VALUE"><block type="factory_function_return" id="v:OXhvoYx*gu0nc!Gxr."><mutation items="5"><arg name="x"></arg><arg name="x"></arg><arg name="x"></arg><arg name="x"></arg><arg name="x"></arg></mutation><field name="NAME">MQTTClient</field><value name="ADD0"><block type="text" id="JR.#CbVY(VzrSuk^kGWO"><field name="TEXT">DHT-1</field></block></value><value name="ADD1"><block type="variables_get" id="oH;su=9(:^G0/bMZPkj7"><field name="VAR">MQTT_SERVER</field></block></value><value name="ADD2"><block type="variables_get" id="qx!C]wc7yv+cq(bK|+]z"><field name="VAR">MQTT_PORT</field></block></value><value name="ADD3"><block type="variables_get" id="C+u(P9rNlr8yDzLB?:8j"><field name="VAR">MQTT_USER</field></block></value><value name="ADD4"><block type="variables_get" id="N=^c{IVT*pWGo04hI:K~"><field name="VAR">MQTT_PSWD</field></block></value></block></value><next><block type="factory_function_noreturn" id="V_}y]fQ9d~x{scnOc{m:"><mutation items="1"><arg name="x"></arg></mutation><field name="NAME">mqttc.connect</field><next><block type="dicts_create_with" id="?gO^Bj;g-?Z3AgVMg?.0"><mutation items="2"></mutation><field name="VAR">payload</field><field name="KEY0">"longitude"</field><field name="KEY1">"latitude"</field><value name="ADD0"><block type="variables_get" id="j!^8S0X9d0_KhJlr1igb"><field name="VAR">ENTITY_LON</field></block></value><value name="ADD1"><block type="variables_get" id="A).8m3OQi9h/}MZ2;:4Q"><field name="VAR">ENTITY_LAT</field></block></value><next><block type="system_print" id="2fr!O0k6~Waxi:ETpl0]"><value name="VAR"><shadow xmlns="http://www.w3.org/1999/xhtml" type="text"><field name="TEXT">Mixly</field></shadow><block type="text_format_noreturn" id="?na81A*;bnVE]Lh~V]FX"><mutation items="1"></mutation><value name="VAR"><shadow type="text" id="9YGHid[Hn{ayBG_ijm^J"><field name="TEXT">Payload: {}</field></shadow></value><value name="ADD0"><block type="variables_get" id="?m;@@wK_08,Kxi.EmIIz"><field name="VAR">payload</field></block></value></block></value><next><block type="factory_function_noreturn" id="|nXUi1+0+eIw[ta/b*Yn"><mutation items="2"><arg name="x"></arg><arg name="x"></arg></mutation><field name="NAME">mqttc.publish</field><value name="ADD0"><block type="variables_get" id="yt=2AB}o-nck9ro8zhPM"><field name="VAR">MQTT_TOPIC_ATTRIBUTES</field></block></value><value name="ADD1"><block type="text_encode" id="!]a+B|jMwyJ0E^}.G9#f"><field name="CODE">utf-8</field><field name="DIR">encode</field><value name="VAR"><shadow xmlns="http://www.w3.org/1999/xhtml" type="text"><field name="TEXT">Mixly</field></shadow><block type="number_to_text" id="-$3)ESN}rY]OBOAfPEow"><value name="VAR"><shadow xmlns="http://www.w3.org/1999/xhtml" type="variables_get"><field name="VAR">x</field></shadow><block type="variables_get" id="4q#puOv=n!#FEF20IA*J"><field name="VAR">payload</field></block></value></block></value></block></value><next><block type="controls_whileUntil" id="l]5)r[0{VbxZr$dPYYWa"><field name="MODE">WHILE</field><value name="BOOL"><shadow type="logic_boolean" id="RAn-rir1bN7,_k2fV#]E"><field name="BOOL">TRUE</field></shadow></value><statement name="DO"><block type="controls_try_finally" id="vCdvVau(n?rrlAt+g.1!"><mutation elseif="1"></mutation><statement name="try"><block type="dicts_create_with" id="AjhXMPdah$njK#;O[]r$"><mutation items="2"></mutation><field name="VAR">payload</field><field name="KEY0">"temp"</field><field name="KEY1">"humidity"</field><value name="ADD0"><block type="sensor_dht11" id="{?G.2cVwg,dEAJ74+xfH"><field name="TYPE">DHT11</field><field name="WHAT">temperature</field><value name="PIN"><shadow type="pins_digital_pin" id="*_8K[t?mbFNBvcP8Fogd"><field name="PIN">33</field></shadow></value></block></value><value name="ADD1"><block type="sensor_dht11" id="/5LXTL/eofLMgFH;tv_V"><field name="TYPE">DHT11</field><field name="WHAT">humidity</field><value name="PIN"><shadow type="pins_digital_pin" id="R5{6gs;OwBr.I*yz9}Ad"><field name="PIN">33</field></shadow></value></block></value><next><block type="system_print" id="#lEAI+aHk:?K-,qjUL)_"><value name="VAR"><shadow xmlns="http://www.w3.org/1999/xhtml" type="text"><field name="TEXT">Mixly</field></shadow><block type="text_format_noreturn" id="E5]yQt;KfoDk?D1jSu]9"><mutation items="1"></mutation><value name="VAR"><shadow type="text" id="Z[|d3;~uufz?QgSezEwi"><field name="TEXT">Payload: {}</field></shadow></value><value name="ADD0"><block type="variables_get" id="v5N$`_L$x{Ua0Kee5}hK"><field name="VAR">payload</field></block></value></block></value><next><block type="factory_function_noreturn" id="~HRy.QejS|RRhMOB$6jA"><mutation items="2"><arg name="x"></arg><arg name="x"></arg></mutation><field name="NAME">mqttc.publish</field><value name="ADD0"><block type="variables_get" id="aXju!0TP3#QwZ[s83+/B"><field name="VAR">MQTT_TOPIC_TELEMETRY</field></block></value><value name="ADD1"><block type="text_encode" id="qRC/s$u}4pN~j~?:lf!z"><field name="CODE">utf-8</field><field name="DIR">encode</field><value name="VAR"><shadow xmlns="http://www.w3.org/1999/xhtml" type="text"><field name="TEXT">Mixly</field></shadow><block type="number_to_text" id="$p5he+Me(ma1TT=!E+Yk"><value name="VAR"><shadow xmlns="http://www.w3.org/1999/xhtml" type="variables_get"><field name="VAR">x</field></shadow><block type="variables_get" id="[s*Me[HV$(V$@D.))]Sw"><field name="VAR">payload</field></block></value></block></value></block></value></block></next></block></next></block></statement><value name="IF1"><block type="factory_block_return" id="RaM9r)k:h5:y-Ap;!UXS"><field name="VALUE">Exception as e</field></block></value><statement name="DO1"><block type="system_print" id="?q_+`~Nm.*tB-_++rcuh"><value name="VAR"><shadow type="text" id=":=Yc-N-C./bVd+JM0*9:"><field name="TEXT">Mixly</field></shadow><block type="factory_block_return" id=",E;)/q9Uy7fTpEX-8o|?"><field name="VALUE">e</field></block></value><next><block type="controls_if" id="OU|TQpZr]N=9zm((v$yi"><value name="IF0"><block type="logic_negate" id="#D)ZM}_XBJ@R`z67G2N*"><value name="BOOL"><block type="network_wifi_connect" id="-Z4?vUGKyS_RsTp^znN$"><value name="VAR"><shadow type="variables_get" id="ed)zAO,7_{=:H;}!gz{4"><field name="VAR">wlan</field></shadow></value></block></value></block></value><statement name="DO0"><block type="network_connect" id="lV=6?4|TjWew7w*5P.!d"><value name="VAR"><shadow type="variables_get" id="U}n_H0@Ewv{~3EO$G7W]"><field name="VAR">wlan</field></shadow></value><value name="id"><shadow xmlns="http://www.w3.org/1999/xhtml" type="text"><field name="TEXT">127.16.0.8</field></shadow><block type="variables_get" id="zd-$DGisX+w3Ylv,kOMT"><field name="VAR">SSID</field></block></value><value name="password"><shadow xmlns="http://www.w3.org/1999/xhtml" type="text"><field name="TEXT">01234567</field></shadow><block type="variables_get" id="(wF.2=u4dg!1pn1u^RcH"><field name="VAR">PASSWORD</field></block></value><next><block type="do_while" id="VxfH-[KFx={;}?jF^mMv"><field name="type">true</field><statement name="input_data"><block type="controls_delay" id="V(m(ShvPwzQskaBtALj:"><field name="Time">ms</field><value name="DELAY_TIME"><shadow type="math_number" id=".I*Q#2Sw9E:{EvxR:saf"><field name="NUM">1000</field></shadow></value></block></statement><value name="select_data"><block type="network_wifi_connect" id="Vceh*Y=Tx1^8d:}dy2FO"><value name="VAR"><shadow type="variables_get" id="rR[KSw5OBfDg9;}_Oc/_"><field name="VAR">wlan</field></shadow></value></block></value></block></next></block></statement><next><block type="factory_function_noreturn" id="AYwIh7aoeWt~+,|*n?}0"><mutation items="1"><arg name="x"></arg></mutation><field name="NAME">mqttc.connect</field></block></next></block></next></block></statement><next><block type="controls_delay" id="k1dVeuHuWWatl1Zn3u!4"><field name="Time">ms</field><value name="DELAY_TIME"><shadow type="math_number" id="x47)pcu)IJE:4Zcd;mO5"><field name="NUM">5000</field></shadow></value></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></xml><code>aW1wb3J0IHVwaXAKaW1wb3J0IG1hY2hpbmUKaW1wb3J0IG5ldHdvcmsKaW1wb3J0IHRpbWUKaW1wb3J0IGRodHgKCgpwaW4zMyA9IG1hY2hpbmUuUGluKDMzLCBtYWNoaW5lLlBpbi5JTikKU1NJRCA9ICd0aGluZ3Nib2FyZCcKUEFTU1dPUkQgPSAndGhpbmdzYm9hcmQnCk1RVFRfU0VSVkVSID0gJzE5Mi4xNjguMS4xMDInCk1RVFRfUE9SVCA9IDE4ODMKTVFUVF9UT1BJQ19URUxFTUVUUlkgPSAndjEvZGV2aWNlcy9tZS90ZWxlbWV0cnknCk1RVFRfVE9QSUNfQVRUUklCVVRFUyA9ICd2MS9kZXZpY2VzL21lL2F0dHJpYnV0ZXMnCk1RVFRfVVNFUiA9ICdlQnk4SkJCT2dvTTI1b0xEWjJTSycuZW5jb2RlKCJ1dGYtOCIpCk1RVFRfUFNXRCA9ICcnLmVuY29kZSgidXRmLTgiKQpFTlRJVFlfTkFNRSA9ICdESFQtMScKRU5USVRZX0xPTiA9IDExNi4zNzA4NDYKRU5USVRZX0xBVCA9IDM5Ljk0MDE0Ngp3bGFuID0gbmV0d29yay5XTEFOKG5ldHdvcmsuU1RBX0lGKTsKd2xhbi5hY3RpdmUoVHJ1ZSkKd2xhbi5jb25uZWN0KFNTSUQsUEFTU1dPUkQpCndoaWxlIFRydWU6CiAgICBwcmludCgnLicsZW5kID0iIikKICAgIHRpbWUuc2xlZXBfbXMoMTAwMCkKICAgIGlmICh3bGFuLmlzY29ubmVjdGVkKCkpOgogICAgICAgIGJyZWFrCnByaW50KCcnKQpwcmludCh3bGFuLmlmY29uZmlnKClbMF0pCnByaW50KHdsYW4uaWZjb25maWcoKVsxXSkKcHJpbnQod2xhbi5pZmNvbmZpZygpWzJdKQp0cnk6CiAgICBmcm9tIHVtcXR0LnNpbXBsZSBpbXBvcnQgTVFUVENsaWVudApleGNlcHQ6CiAgICB1cGlwLmluc3RhbGwoJ21pY3JvcHl0aG9uLXVtcXR0LnNpbXBsZScpCiAgICBmcm9tIHVtcXR0LnNpbXBsZSBpbXBvcnQgTVFUVENsaWVudAptcXR0YyA9IE1RVFRDbGllbnQoJ0RIVC0xJywgTVFUVF9TRVJWRVIsIE1RVFRfUE9SVCwgTVFUVF9VU0VSLCBNUVRUX1BTV0QpCm1xdHRjLmNvbm5lY3QoKQpwYXlsb2FkPSB7ImxvbmdpdHVkZSI6RU5USVRZX0xPTiwgImxhdGl0dWRlIjpFTlRJVFlfTEFUfQpwcmludCgnUGF5bG9hZDoge30nLmZvcm1hdChwYXlsb2FkKSkKbXF0dGMucHVibGlzaChNUVRUX1RPUElDX0FUVFJJQlVURVMsIHN0cihwYXlsb2FkKS5lbmNvZGUoInV0Zi04IikpCndoaWxlIFRydWU6CiAgICB0cnk6CiAgICAgICAgcGF5bG9hZD0geyJ0ZW1wIjpkaHR4LkRIVDExKDMzKS50ZW1wZXJhdHVyZSgpLCAiaHVtaWRpdHkiOmRodHguREhUMTEoMzMpLmh1bWlkaXR5KCl9CiAgICAgICAgcHJpbnQoJ1BheWxvYWQ6IHt9Jy5mb3JtYXQocGF5bG9hZCkpCiAgICAgICAgbXF0dGMucHVibGlzaChNUVRUX1RPUElDX1RFTEVNRVRSWSwgc3RyKHBheWxvYWQpLmVuY29kZSgidXRmLTgiKSkKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBwcmludChlKQogICAgICAgIGlmIG5vdCB3bGFuLmlzY29ubmVjdGVkKCk6CiAgICAgICAgICAgIHdsYW4uY29ubmVjdChTU0lELFBBU1NXT1JEKQogICAgICAgICAgICB3aGlsZSBUcnVlOgogICAgICAgICAgICAgICAgdGltZS5zbGVlcF9tcygxMDAwKQogICAgICAgICAgICAgICAgaWYgKHdsYW4uaXNjb25uZWN0ZWQoKSk6CiAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICBtcXR0Yy5jb25uZWN0KCkKICAgIHRpbWUuc2xlZXBfbXMoNTAwMCkK</code>