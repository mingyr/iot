<xml version="Mixly 2.0 rc3" board="Python ESP32@ESP32 Generic(4MB)"><block type="factory_import" id="Hw1esy(uzL}+e$oAN-uV" x="-817" y="-728"><field name="module">upip</field><next><block type="inout_digital_init" id=";o=xj8iszz1_:~CLEx8V"><field name="PIN_OBJ">pin#</field><field name="MODE">machine.Pin.IN</field><value name="PIN"><shadow type="pins_digital_pin" id="9J^CWxpQPQ#c]9Td_23O"><field name="PIN">33</field></shadow></value><next><block type="variables_set" id="20s{ZrpPernl$tdAWHor"><field name="VAR">SSID</field><value name="VALUE"><block type="text" id="lqUmuxP_H:DZ=:@E_^/_"><field name="TEXT">Your SSID</field></block></value><next><block type="variables_set" id="K6=abVJ9}tSrrNk:6liN"><field name="VAR">PASSWORD</field><value name="VALUE"><block type="text" id="YvRfrfw_n!kjyW@xDX{n"><field name="TEXT">Your Password</field></block></value><next><block type="variables_set" id="IHJp.h*2,FedhqI?YH;P"><field name="VAR">MQTT_SERVER</field><value name="VALUE"><block type="text" id="!OhpX4@+R0X-?xGfN.S~"><field name="TEXT">Your Server IP</field></block></value><next><block type="variables_set" id="^@9^:$J}1-zdN2#*JEmE"><field name="VAR">MQTT_PORT</field><value name="VALUE"><block type="math_number" id="eo]p$OnOdLQFOO{EdM.3"><field name="NUM">1883</field></block></value><next><block type="variables_set" id="rwh#rgS09-kc]pjA`iDr"><field name="VAR">MQTT_TOPIC_TELEMETRY</field><value name="VALUE"><block type="text" id="U-_[1[*!Z!RA.0q_?pej"><field name="TEXT">v1/devices/me/telemetry</field></block></value><next><block type="variables_set" id="Mo5_4;|u!yuB(m8mKmI3"><field name="VAR">MQTT_TOPIC_ATTRIBUTES</field><value name="VALUE"><block type="text" id="`wRzS?8`:#7-Q1H:D#37"><field name="TEXT">v1/devices/me/attributes</field></block></value><next><block type="variables_set" id="texk{W=.2APYU/DQJfR6"><field name="VAR">MQTT_USER</field><value name="VALUE"><block type="factory_function_return" id="(tvgWn=am[3`b0O/LS8{"><mutation items="2"><arg name="x"></arg><arg name="x"></arg></mutation><field name="NAME">str.encode</field><value name="ADD0"><block type="text" id="|7EB09IWH8#!Wc5`)`AN"><field name="TEXT">i1jCouQcSqZ1ft1p9RrG</field></block></value><value name="ADD1"><block type="text" id="1WuQOWvFNTXMdP8k~zw*"><field name="TEXT">utf-8</field></block></value></block></value><next><block type="variables_set" id="GJeP*mlh^=Sg^+SG^J+J"><field name="VAR">MQTT_PSWD</field><value name="VALUE"><block type="factory_function_return" id="f8Vr`Z4!cK5]+vzolF,4"><mutation items="2"><arg name="x"></arg><arg name="x"></arg></mutation><field name="NAME">str.encode</field><value name="ADD0"><block type="text" id="a_@b/VsETA7]53V31ZeG"><field name="TEXT"></field></block></value><value name="ADD1"><block type="text" id="nGfQt.}S.SXe-l2C;c*:"><field name="TEXT">utf-8</field></block></value></block></value><next><block type="variables_set" id="pxFO@(x@og!v2lJNBx1^"><field name="VAR">ENTITY_NAME</field><value name="VALUE"><block type="text" id="7a+U:CFa,,2^CmdWND?3"><field name="TEXT">DHT-1</field></block></value><next><block type="variables_set" id="D9@0-$O.71NgC~]CI!w|"><field name="VAR">ENTITY_LON</field><value name="VALUE"><block type="math_number" id="@z+QY9@CMWLCI|!_@p_k"><field name="NUM">116.370846</field></block></value><next><block type="variables_set" id="(k{nTOXr4U=#(dR,$2vo"><field name="VAR">ENTITY_LAT</field><value name="VALUE"><block type="math_number" id="|0Jd3KFr$=AA:oZ|LGY."><field name="NUM">39.940146</field></block></value><next><block type="network_init" id=".k4G88Sp3^bERFM![GjD"><field name="mode">STA</field><value name="VAR"><shadow type="variables_get" id="2g=v+p8qF[BU~PmD]5PC"><field name="VAR">wlan</field></shadow></value><next><block type="network_open" id=",k{0-$Zy;60C_HWD}cqW"><field name="op">True</field><value name="VAR"><shadow type="variables_get" id="smflI:u?D3Ax)5|xjOuX"><field name="VAR">wlan</field></shadow></value><next><block type="network_connect" id="=Zq[s+7~pfZcj(6J02RI"><value name="VAR"><shadow type="variables_get" id="}POCJSp*GmB{-LZYZV^|"><field name="VAR">wlan</field></shadow></value><value name="id"><shadow type="text"><field name="TEXT">127.16.0.8</field></shadow><block type="variables_get" id="IBc,cC^@DK#av$l{vpry"><field name="VAR">SSID</field></block></value><value name="password"><shadow type="text"><field name="TEXT">01234567</field></shadow><block type="variables_get" id="-h36sMp=5)9oB1cy#;-m"><field name="VAR">PASSWORD</field></block></value><next><block type="do_while" id="UnrW8Ac5HHdFCE[NYAOG"><field name="type">true</field><statement name="input_data"><block type="system_print_inline" id="-;8k,8eo_r`:?pA6lg7Z"><value name="VAR"><shadow type="text" id="a^|nr5Vl^B?4;DY4fs5r"><field name="TEXT">.</field></shadow></value><next><block type="controls_delay" id="8F|f]a69o[?979RA[_Q:"><field name="Time">ms</field><value name="DELAY_TIME"><shadow type="math_number" id="yOxD4+kFL9,r/+A:!?Ug"><field name="NUM">1000</field></shadow></value></block></next></block></statement><value name="select_data"><block type="network_wifi_connect" id="t@F0(s0~*]BfA0g)B64Y"><value name="VAR"><shadow type="variables_get" id="[81x|3R3Dc2a9jU!K0T^"><field name="VAR">wlan</field></shadow></value></block></value><next><block type="system_print" id="`d:hOA(r;#a2_QM/5+L5"><value name="VAR"><shadow type="text" id=":~X06.3ZH=8.RF`iua7H"><field name="TEXT"></field></shadow></value><next><block type="system_print" id="uJr~(1~TEEW1Ln)!(HH{"><value name="VAR"><shadow type="text"><field name="TEXT">Mixly</field></shadow><block type="network_get_connect" id="NpfNplDZe7+kLQN#kUUv"><field name="mode">0</field><value name="VAR"><shadow type="variables_get" id="7;fay*q(=BOsSS.z7+8A"><field name="VAR">wlan</field></shadow></value></block></value><next><block type="system_print" id="H|[C;|]8Y=gU`zJ[4ZRd"><value name="VAR"><shadow type="text"><field name="TEXT">Mixly</field></shadow><block type="network_get_connect" id="ggpx`nrjs,Mz0K;-.kAP"><field name="mode">1</field><value name="VAR"><shadow type="variables_get" id=",P1!O,olB]-!ek7,G67R"><field name="VAR">wlan</field></shadow></value></block></value><next><block type="system_print" id="[$cfxB~?:DWi,DcnKDse"><value name="VAR"><shadow type="text"><field name="TEXT">Mixly</field></shadow><block type="network_get_connect" id="aAkb=UcJ=2!|o=5K#l*N"><field name="mode">2</field><value name="VAR"><shadow type="variables_get" id="3=69{VSc?+412XQ3!yA2"><field name="VAR">wlan</field></shadow></value></block></value><next><block type="controls_try_finally" id="D`e$R.63qVPrCyIvW*3/"><mutation elseif="1"></mutation><statement name="try"><block type="factory_block" id="p079Pc:3C{u3n_T$1o!`"><field name="VALUE">from umqtt.simple import MQTTClient</field></block></statement><statement name="DO1"><block type="factory_function_noreturn" id="KLFxK+v!bWLSHv*HY[^x"><mutation items="1"><arg name="x"></arg></mutation><field name="NAME">upip.install</field><value name="ADD0"><block type="text" id="`U*4f0$z6_x5z227Ub,{"><field name="TEXT">micropython-umqtt.simple</field></block></value><next><block type="factory_block" id="j_L#E|*R1o!^HWJ=`i9h"><field name="VALUE">from umqtt.simple import MQTTClient</field></block></next></block></statement><next><block type="variables_set" id="$!Q*mIGU~yk{11F1+30a"><field name="VAR">mqttc</field><value name="VALUE"><block type="factory_function_return" id="o6DWN.y{*4!,.kuHi6[l"><mutation items="5"><arg name="x"></arg><arg name="x"></arg><arg name="x"></arg><arg name="x"></arg><arg name="x"></arg></mutation><field name="NAME">MQTTClient</field><value name="ADD0"><block type="text" id="a6g)[CydHHELTH/R|R0J"><field name="TEXT">DHT-1</field></block></value><value name="ADD1"><block type="variables_get" id="3bvD.kJQFy,C5EiMgYfh"><field name="VAR">MQTT_SERVER</field></block></value><value name="ADD2"><block type="variables_get" id="qGGO5@?YC!qT#HhzmBk="><field name="VAR">MQTT_PORT</field></block></value><value name="ADD3"><block type="variables_get" id="uEPlC=0rjsY250I-TTht"><field name="VAR">MQTT_USER</field></block></value><value name="ADD4"><block type="variables_get" id="RRz~RD3#1b-(vPL?k8E9"><field name="VAR">MQTT_PSWD</field></block></value></block></value><next><block type="factory_function_noreturn" id="?W$82@*YZNt;{;eJUrI)"><mutation items="1"><arg name="x"></arg></mutation><field name="NAME">mqttc.connect</field><next><block type="dicts_create_with" id="Rjh*A!S~jKV)ollae,xE"><mutation items="2"></mutation><field name="VAR">payload</field><field name="KEY0">"lon"</field><field name="KEY1">"lat"</field><value name="ADD0"><block type="variables_get" id="$yYsK1au2#|sPE*~!Cqz"><field name="VAR">ENTITY_LON</field></block></value><value name="ADD1"><block type="variables_get" id="+FB.,Jh|(x+xJLB=C`Sc"><field name="VAR">ENTITY_LAT</field></block></value><next><block type="system_print" id="9WNlh85L(Kt^eIs]{Iit"><value name="VAR"><shadow type="text"><field name="TEXT">Mixly</field></shadow><block type="text_format_noreturn" id="ifP{TDf]+~_HOV0ZKYW#"><mutation items="1"></mutation><value name="VAR"><shadow type="text" id=")ILDoQ)(2/o5=[Kf|gVf"><field name="TEXT">Payload: {}</field></shadow></value><value name="ADD0"><block type="variables_get" id="zQPWdOJa?@py{4DDNhjz"><field name="VAR">payload</field></block></value></block></value><next><block type="factory_function_noreturn" id="ZXd#E?:O#9[p]5_T;IDI"><mutation items="2"><arg name="x"></arg><arg name="x"></arg></mutation><field name="NAME">mqttc.publish</field><value name="ADD0"><block type="variables_get" id="1G;aehkh=74vLUi[Ooq~"><field name="VAR">MQTT_TOPIC_ATTRIBUTES</field></block></value><value name="ADD1"><block type="factory_function_return" id=",!R?6m2}?AJrM~`7)_~Y"><mutation items="2"><arg name="x"></arg><arg name="x"></arg></mutation><field name="NAME">str.encode</field><value name="ADD0"><block type="factory_function_return" id="Kr~MC/sK76=EPg{yD*8q"><mutation items="1"><arg name="x"></arg></mutation><field name="NAME">str</field><value name="ADD0"><block type="variables_get" id="]1FDObZEww?e9F|.O`{?"><field name="VAR">payload</field></block></value></block></value><value name="ADD1"><block type="text" id="FM7a=isAXXnt^D`TF:8z"><field name="TEXT">utf-8</field></block></value></block></value><next><block type="do_while" id="epjhB[ZTJFkYuidv-CI2"><field name="type">true</field><statement name="input_data"><block type="dicts_create_with" id="/Id}T)vHP$]4:0`=iP7_"><mutation items="1"></mutation><field name="VAR">payload</field><field name="KEY0">"temp"</field><value name="ADD0"><block type="sensor_dht11" id="c_=J.#ASko$gkJn8$hc."><field name="TYPE">DHT11</field><field name="WHAT">temperature</field><value name="PIN"><shadow type="pins_digital_pin" id="loMCZD+.1(Or`f4fg=9r"><field name="PIN">33</field></shadow></value></block></value><next><block type="system_print" id="U/hT2K1u2l_oAf9C`xt+"><value name="VAR"><shadow type="text"><field name="TEXT">Mixly</field></shadow><block type="text_format_noreturn" id="~l3KZr4(Y?nZ1V|#Fb-*"><mutation items="1"></mutation><value name="VAR"><shadow type="text" id="-9]sUabmKZ-1Z}p,uZ@9"><field name="TEXT">Payload: {}</field></shadow></value><value name="ADD0"><block type="variables_get" id="k?!`w.N?YFdOPpWzOqyU"><field name="VAR">payload</field></block></value></block></value><next><block type="factory_function_noreturn" id="@C95c|3Ns}YRQy}S(ukC"><mutation items="2"><arg name="x"></arg><arg name="x"></arg></mutation><field name="NAME">mqttc.publish</field><value name="ADD0"><block type="variables_get" id="!PC/sUE9bC0.pZ5e)mCY"><field name="VAR">MQTT_TOPIC_TELEMETRY</field></block></value><value name="ADD1"><block type="factory_function_return" id="qK`nXJfCevH+=,(RH_:["><mutation items="2"><arg name="x"></arg><arg name="x"></arg></mutation><field name="NAME">str.encode</field><value name="ADD0"><block type="factory_function_return" id="R$ylD+8bp|zy289`Q:-;"><mutation items="1"><arg name="x"></arg></mutation><field name="NAME">str</field><value name="ADD0"><block type="variables_get" id="d4V}5InZrfZ;vn3tTCfo"><field name="VAR">payload</field></block></value></block></value><value name="ADD1"><block type="text" id="x:kfAes45w9H*I9*|Sx:"><field name="TEXT">utf-8</field></block></value></block></value><next><block type="controls_delay" id="dy2):JJn81C(ssA#~s=J"><field name="Time">ms</field><value name="DELAY_TIME"><shadow type="math_number" id="gdEJo.a2uT-vYRo1Y7[;"><field name="NUM">5000</field></shadow></value></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></xml><code>aW1wb3J0IHVwaXAKaW1wb3J0IG1hY2hpbmUKaW1wb3J0IG5ldHdvcmsKaW1wb3J0IHRpbWUKaW1wb3J0IGRodHgKCgpwaW4zMyA9IG1hY2hpbmUuUGluKDMzLCBtYWNoaW5lLlBpbi5JTikKU1NJRCA9ICdZb3VyIFNTSUQnClBBU1NXT1JEID0gJ1lvdXIgUGFzc3dvcmQnCk1RVFRfU0VSVkVSID0gJ1lvdXIgU2VydmVyIElQJwpNUVRUX1BPUlQgPSAxODgzCk1RVFRfVE9QSUNfVEVMRU1FVFJZID0gJ3YxL2RldmljZXMvbWUvdGVsZW1ldHJ5JwpNUVRUX1RPUElDX0FUVFJJQlVURVMgPSAndjEvZGV2aWNlcy9tZS9hdHRyaWJ1dGVzJwpNUVRUX1VTRVIgPSBzdHIuZW5jb2RlKCdpMWpDb3VRY1NxWjFmdDFwOVJyRycsICd1dGYtOCcpCk1RVFRfUFNXRCA9IHN0ci5lbmNvZGUoJycsICd1dGYtOCcpCkVOVElUWV9OQU1FID0gJ0RIVC0xJwpFTlRJVFlfTE9OID0gMTE2LjM3MDg0NgpFTlRJVFlfTEFUID0gMzkuOTQwMTQ2CndsYW4gPSBuZXR3b3JrLldMQU4obmV0d29yay5TVEFfSUYpOwp3bGFuLmFjdGl2ZShUcnVlKQp3bGFuLmNvbm5lY3QoU1NJRCxQQVNTV09SRCkKd2hpbGUgVHJ1ZToKICAgIHByaW50KCcuJyxlbmQgPSIiKQogICAgdGltZS5zbGVlcF9tcygxMDAwKQogICAgaWYgKHdsYW4uaXNjb25uZWN0ZWQoKSk6CiAgICAgICAgYnJlYWsKcHJpbnQoJycpCnByaW50KHdsYW4uaWZjb25maWcoKVswXSkKcHJpbnQod2xhbi5pZmNvbmZpZygpWzFdKQpwcmludCh3bGFuLmlmY29uZmlnKClbMl0pCnRyeToKICAgIGZyb20gdW1xdHQuc2ltcGxlIGltcG9ydCBNUVRUQ2xpZW50CmV4Y2VwdDoKICAgIHVwaXAuaW5zdGFsbCgnbWljcm9weXRob24tdW1xdHQuc2ltcGxlJykKICAgIGZyb20gdW1xdHQuc2ltcGxlIGltcG9ydCBNUVRUQ2xpZW50Cm1xdHRjID0gTVFUVENsaWVudCgnREhULTEnLCBNUVRUX1NFUlZFUiwgTVFUVF9QT1JULCBNUVRUX1VTRVIsIE1RVFRfUFNXRCkKbXF0dGMuY29ubmVjdCgpCnBheWxvYWQ9IHsibG9uIjpFTlRJVFlfTE9OLCAibGF0IjpFTlRJVFlfTEFUfQpwcmludCgnUGF5bG9hZDoge30nLmZvcm1hdChwYXlsb2FkKSkKbXF0dGMucHVibGlzaChNUVRUX1RPUElDX0FUVFJJQlVURVMsIHN0ci5lbmNvZGUoc3RyKHBheWxvYWQpLCAndXRmLTgnKSkKd2hpbGUgVHJ1ZToKICAgIHBheWxvYWQ9IHsidGVtcCI6ZGh0eC5ESFQxMShtYWNoaW5lLlBpbigzMykpLnRlbXBlcmF0dXJlKCl9CiAgICBwcmludCgnUGF5bG9hZDoge30nLmZvcm1hdChwYXlsb2FkKSkKICAgIG1xdHRjLnB1Ymxpc2goTVFUVF9UT1BJQ19URUxFTUVUUlksIHN0ci5lbmNvZGUoc3RyKHBheWxvYWQpLCAndXRmLTgnKSkKICAgIHRpbWUuc2xlZXBfbXMoNTAwMCkKICAgIGlmIChGYWxzZSk6CiAgICAgICAgYnJlYWsK</code>